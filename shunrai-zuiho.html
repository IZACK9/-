<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>俊頼髄脳</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    #content {
      flex: 1;
      padding: 20px;
      text-align: center;
    }

    #text {
      font-size: 20px;
      margin-bottom: 20px;
    }

    #footer {
      position: sticky;
      bottom: 0;
      background-color: #f0f0f0;
      text-align: center;
      padding: 10px 0;
      border-top: 1px solid #ddd;
    }

    button {
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      margin: 5px;
    }

    button:hover {
      background-color: #0056b3;
    }

    .analysis {
      font-size: 0.8em; /* 小さい文字サイズ */
      color: gray; /* グレーの文字色 */
      margin-top: 10px; /* 上部に余白を追加 */
    }
  </style>
</head>
<body>
  <header>
    <h1>古文ヘルパー</h1>
    <nav>
      <a href="index.html">ホーム</a>
    </nav>
  </header>
  <div id="content">
    <div id="text">
      <main>
        <article>
          <h2>俊頼髄脳</h2>
        <p>
      A　あられふる交野のみののかりごろもぬれぬやどかす人しなければ<br>
      B　ぬれぬれもなほかりゆかむはし鷹のうはげの雪をうちはらひつつ<br>
      これは、長能、道済と申す歌よみどもの、鷹狩を題にする歌なり。ともに、よきき歌どもにて、人の口にのれり。後人々、我も我もとあらそひて、日ごろへけるに、なほのこと、今日きらむとて、ともに具して、四条大納言のもとにまうでて、「この歌ふたつ、たがひにあらそひて、今に事きれず。いかにもいかにも、判ぜさせ給へとて、おのおの参りたるなり」と言へば、かの大納言、この歌どもを、しきりにながめ案じて、「まことに申したらむに、おのおの腹立たれ、じや」と申されば、「さらに。ともかくも仰せられむに、腹立ち申すべからず。その料に参りたれば、すみやかに、承りて、まかり出でなむ」と申しければ、さらばとて、申されけるは、「交野のみののといへる歌はふるまへる姿も、文字遺ひなども、はるかにまさりて聞こゆ。しかはあれども、もろもろのひが事のあるなり。鷹狩は、雨の降らむばかりにぞ、えせでとどまるべき。霰の降らむによりて、宿かりてとまらむは、あやしき事なり。霰などは、さまで、かりごろもなどの、ぬれ通りて惜しき程にはあらじ。なほかりゆかむ詠まれたるは、鷹狩の本意もあり、まことにも、おもしろかりけむと覚ゆ。歌がらも、優にてをかし。撰集などにも、これや入らむ」と申されければ、道済は、舞ひかなでて、出でにけり。
    </p>
    <div class="analysis">
      あられ（名詞）ふる（動詞・連体形・四段活用）交野（名詞）の（助詞）みの（名詞）の（助詞）かりごろも（名詞）ぬれ（動詞・連用形・下二段活用）ぬ（助動詞・完了）や（係助詞）どかす（動詞・連体形・下二段活用）人（名詞）し（副詞）なけれ（助動詞・打消・已然形）ば（接続助詞）<br>
      ぬれ（動詞・連用形・下二段活用）ぬれ（動詞・連用形・下二段活用）も（係助詞）なほ（副詞）かりゆか（動詞・未然形・四段活用）む（助動詞・意志）はし鷹（名詞）の（助詞）うはげ（名詞）の（助詞）雪（名詞）を（助詞）うちはらひ（動詞・連用形・四段活用）つつ（接続助詞）<br>
      これは（指示詞）、長能（名詞）、道済（名詞）と（助詞）申す（動詞・連体形・四段活用）歌よみ（名詞）ども（助詞）の（助詞）、鷹狩（名詞）を（助詞）題（名詞）に（助詞）する（動詞・連体形・サ変）歌（名詞）なり（助動詞・断定）。ともに（副詞）、よきき（形容詞・連体形）歌（名詞）ども（助詞）にて（助詞）、人（名詞）の（助詞）口（名詞）に（助詞）のれ（動詞・連用形・下二段活用）り（助動詞・存続）。後（名詞）人々（名詞）、我（代名詞）も（係助詞）我（代名詞）も（係助詞）と（助詞）あらそひ（動詞・連用形・四段活用）て（助詞）、日ごろ（名詞）へ（助詞）ける（助動詞・過去）に（助詞）、なほ（副詞）の（助詞）こと（名詞）、今日（名詞）き（動詞・連用形・四段活用）らむ（助動詞・推量）と（助詞）て（助詞）、ともに（副詞）具し（動詞・連用形・サ変）て（助詞）、四条大納言（名詞）の（助詞）もと（名詞）に（助詞）まうで（動詞・連用形・下二段活用）て（助詞）、「この（連体詞）歌（名詞）ふたつ（名詞）、たがひ（名詞）に（助詞）あらそひ（動詞・連用形・四段活用）て（助詞）、今（名詞）に（助詞）事（名詞）きれ（動詞・連用形・下二段活用）ず（助動詞・打消）。いかにもいかにも（副詞）、判ぜ（動詞・未然形・下二段活用）させ（動詞・連用形・下二段活用）給へ（補助動詞・命令形・四段活用）と（助詞）て（助詞）、おのおの（代名詞）参り（動詞・連用形・四段活用）たる（助動詞・存続）なり（助動詞・断定）」と言へ（動詞・連用形・下二段活用）ば（接続助詞）、かの（連体詞）大納言（名詞）、この（連体詞）歌（名詞）ども（助詞）を（助詞）、しきり（副詞）にながめ（動詞・連用形・下二段活用）案じ（動詞・連用形・サ変）て（助詞）、「まことに（副詞）申したらむ（動詞・連用形＋助動詞・推量）に（助詞）、おのおの（代名詞）腹立た（動詞・未然形・四段活用）れ（助動詞・打消・已然形）、じや（終助詞）」と申され（動詞・連用形・下二段活用）ば（接続助詞）、「さらに（副詞）。ともかくも（副詞）仰せ（動詞・未然形・サ変）られ（動詞・連用形・下二段活用）む（助動詞・意志）に（助詞）、腹立ち（動詞・連用形・四段活用）申す（補助動詞・終止形・サ変）べからず（助動詞・打消）。その（連体詞）料（名詞）に（助詞）参り（動詞・連用形・四段活用）たれ（助動詞・存続・已然形）ば（接続助詞）、すみやかに（副詞）、承り（動詞・連用形・四段活用）て（助詞）、まかり（動詞・連用形・下二段活用）出で（動詞・連用形・下二段活用）なむ（助動詞・意志）」と申し（動詞・連用形・下二段活用）けれ（助動詞・過去）ば（接続助詞）、さらば（副詞）と（助詞）て（助詞）、申され（動詞・連用形・下二段活用）ける（助動詞・過去）は（係助詞）、「交野のみのの（名詞）と（助詞）いへ（動詞・連用形・下二段活用）る（助動詞・存続）歌（名詞）は（係助詞）ふるまへ（動詞・連用形・下二段活用）る（助動詞・存続）姿（名詞）も（係助詞）、文字（名詞）遺ひ（動詞・連用形・下二段活用）など（助詞）も（係助詞）、はるかに（副詞）まさり（動詞・連用形・四段活用）て（助詞）聞こゆ（動詞・終止形・下二段活用）。しか（副詞）は（係助詞）あれ（動詞・未然形・ラ変）ども（接続助詞）、もろもろ（副詞）の（助詞）ひが事（名詞）の（助詞）ある（動詞・終止形・ラ変）なり（助動詞・断定）。鷹狩（名詞）は（係助詞）、雨（名詞）の（助詞）降ら（動詞・未然形・四段活用）む（助動詞・推量）ばかり（副詞）に（助詞）ぞ（係助詞）、えせ（動詞・未然形・サ変）で（助詞）とどまる（動詞・連体形・五段活用）べき（助動詞・適当）。霰（名詞）の（助詞）降ら（動詞・未然形・四段活用）む（助動詞・推量）に（助詞）より（接続助詞）て（助詞）、宿（名詞）かり（動詞・連用形・四段活用）て（助詞）とまら（動詞・未然形・四段活用）む（助動詞・推量）は（係助詞）、あやしき（形容詞・連体形）事（名詞）なり（助動詞・断定）。霰（名詞）など（助詞）は（係助詞）、さまで（副詞）、かりごろも（名詞）など（助詞）の（助詞）、ぬれ（動詞・連用形・下二段活用）通り（動詞・連用形・四段活用）て（助詞）惜しき（形容詞・連体形）程（名詞）には（助詞）あらじ（助動詞・打消推量）。なほ（副詞）かりゆか（動詞・未然形・四段活用）む（助動詞・意志）詠ま（動詞・未然形・四段活用）れ（助動詞・受身）たる（助動詞・存続）は（係助詞）、鷹狩（名詞）の（助詞）本意（名詞）も（係助詞）あり（動詞・連用形・ラ変）、まこと（名詞）に（助詞）も（係助詞）、おもしろかり（形容詞・連用形）けむ（助動詞・推量）と（助詞）覚ゆ（動詞・終止形・下二段活用）。歌がら（名詞）も（係助詞）、優（形容動詞・終止形）に（助詞）て（助詞）をかし（形容詞・終止形）。撰集（名詞）など（助詞）にも（係助詞）、これ（指示詞）や（係助詞）入ら（動詞・未然形・四段活用）む（助動詞・推量）」と申され（動詞・連用形・下二段活用）けれ（助動詞・過去）ば（接続助詞）、道済（名詞）は（係助詞）、舞ひ（動詞・連用形・四段活用）かなで（動詞・連用形・下二段活用）て（助詞）、出で（動詞・連用形・下二段活用）に（助動詞・完了）けり（助動詞・過去）。
    </div>
        </article>
      </main>
    </div>
  </div>

  <div id="footer">
    <button id="changeButton">現代語訳する</button>
    <button id="resetButton" style="display: none;">もとに戻す</button>
    <button id="toggleAnalysisButton">品詞分解を消す</button>
  </div>

  <script>
    // ボタンとテキストの要素を取得
    const textElement = document.getElementById('text');
    const changeButton = document.getElementById('changeButton');
    const resetButton = document.getElementById('resetButton');
    const toggleAnalysisButton = document.getElementById('toggleAnalysisButton');

    // 元の内容を保存
    const originalContent = textElement.innerHTML;

    // 現代語訳の内容
    const translatedContent = `
      <main>
        <article>
          <h2>俊頼髄脳 現代語訳</h2>
<p>
      A「霰の降る交野のみの（場所）で、狩りの衣が濡れてしまう。泊めてくれる人がいないので困っている。」<br>
      B「濡れてしまっても、やはり狩りに行こう。橋鷹の羽につもる雪を払いながら。」<br><br>
      これは、長能と道済という歌人が鷹狩を題材に詠んだ歌です。どちらも素晴らしい歌として評判になり、人々が口にしていました。<br>
      後に、多くの人が自分こそと争うようになり、何日も決着がつかないまま、「今日こそは決着をつけよう」と皆で相談し、四条大納言のもとに参上して、「この二つの歌、互いに争って今も決着がつきません。どうか判定してください」とお願いしました。<br>
      大納言は、二つの歌をしきりに眺めて考え、「本当のことを言えば、どちらも腹を立てるだろう」と言いましたが、「とにかく、どちらに判定されても腹を立てません。そのために参りましたので、すぐにお伺いして帰ります」と皆が申し上げたので、判定を言うことになりました。<br>
      大納言は「交野のみのの歌は、振る舞いや文字の趣などもはるかに優れている。しかしいろいろとおかしな点もある。鷹狩は雨が降りそうな時にこそやめて留まるもの。霰が降ったから宿を借りて泊まるというのは不自然だ。霰くらいでは狩りの衣がびしょ濡れになるほどでもない。やはり『狩りに行く』と詠んだ歌こそ、鷹狩の本来の趣旨もあり、まことに面白く感じる。歌の趣も優雅でおもしろい。撰集などにもこれが入るだろう」と語ると、道済は舞い奏でるように喜んで帰っていった。
    </p>
        </article>
      </main>
    `;

    // 品詞分解表示状態を管理するフラグ
    let analysisVisible = true;

    // 「現代語訳する」ボタンがクリックされたときの処理
    changeButton.addEventListener('click', () => {
      textElement.innerHTML = translatedContent;
      changeButton.style.display = 'none'; // 現代語訳ボタンを非表示
      resetButton.style.display = 'inline-block'; // もとに戻すボタンを表示
      toggleAnalysisButton.style.display = 'none'; // 品詞分解ボタンを非表示
    });

    // 「もとに戻す」ボタンがクリックされたときの処理
    resetButton.addEventListener('click', () => {
      textElement.innerHTML = originalContent;
      resetButton.style.display = 'none'; // もとに戻すボタンを非表示
      changeButton.style.display = 'inline-block'; // 現代語訳ボタンを表示
      toggleAnalysisButton.style.display = 'inline-block'; // 品詞分解ボタンを再表示

      // 再度「品詞分解を消す」ボタンを機能させるためにイベントリスナーを再登録
      reinitializeAnalysisToggle();
      applyAnalysisVisibility(); // 品詞分解の表示状態を適用
    });

    // 「品詞分解を消す」ボタンがクリックされたときの処理
    toggleAnalysisButton.addEventListener('click', () => {
      analysisVisible = !analysisVisible; // 表示状態をトグル
      applyAnalysisVisibility(); // 表示状態を適用
      toggleAnalysisButton.textContent = analysisVisible ? '品詞分解を消す' : '品詞分解を表示する';
    });

    // 品詞分解の表示状態を適用
    const applyAnalysisVisibility = () => {
      const analysisElements = document.querySelectorAll('.analysis');
      analysisElements.forEach((el) => {
        el.style.display = analysisVisible ? 'block' : 'none';
      });
    };

    // 「品詞分解を消す」ボタンの機能を再登録
    const reinitializeAnalysisToggle = () => {
      const analysisElements = document.querySelectorAll('.analysis');
      toggleAnalysisButton.textContent = analysisVisible ? '品詞分解を消す' : '品詞分解を表示する';
    };

    // 初期化時に「品詞分解を消す」ボタンの機能を登録
    reinitializeAnalysisToggle();
  </script>
</body>
</html>
