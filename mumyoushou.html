<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>無名抄</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
    #content {
      flex: 1;
      padding: 20px;
      text-align: center;
    }
    #text {
      font-size: 20px;
      margin-bottom: 20px;
    }
    #footer {
      position: sticky;
      bottom: 0;
      background-color: #f0f0f0;
      text-align: center;
      padding: 10px 0;
      border-top: 1px solid #ddd;
    }
    button {
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      margin: 5px;
    }
    button:hover {
      background-color: #0056b3;
    }
    .analysis {
      font-size: 0.8em;
      color: gray;
      margin-top: 10px;
      text-align: left;
      word-break: break-all;
    }
  </style>
</head>
<body>
  <header>
    <h1>古文ヘルパー</h1>
    <nav>
      <a href="index.html">ホーム</a>
    </nav>
  </header>
  <div id="content">
    <div id="text">
      <main>
        <article>
          <h2>無名抄</h2>
          <section>
            <p>
              近ごろ隆信・定長と番ひて若くより人の口に同じやうにいはれ侍りき。
            </p>
            <div class="analysis">
              近ごろ（副詞）<br>
              隆信（名詞）<br>
              ・（記号）<br>
              定長（名詞）<br>
              と（助詞）<br>
              番ひ（動詞・連用形・四段活用）<br>
              て（助詞）<br>
              若く（形容詞・連用形）<br>
              より（格助詞）<br>
              人（名詞）<br>
              の（格助詞）<br>
              口（名詞）<br>
              に（格助詞）<br>
              同じ（形容詞・連用形）<br>
              やう（名詞）<br>
              に（格助詞）<br>
              いは（動詞・未然形・四段活用）<br>
              れ（助動詞・受身・連用形）<br>
              侍り（補助動詞・連用形・丁寧語）<br>
              き（助動詞・過去・終止形）<br>
            </div>
          </section>
          <section>
            <p>
              かの俊恵が家にて百首を十首づつ十座に詠みて十座の百首となづけはべる事ありけり。
            </p>
            <div class="analysis">
              かの（連体詞）<br>
              俊恵（名詞）<br>
              が（格助詞）<br>
              家（名詞）<br>
              にて（格助詞）<br>
              百首（名詞）<br>
              を（格助詞）<br>
              十首（名詞）<br>
              づつ（副助詞）<br>
              十座（名詞）<br>
              に（格助詞）<br>
              詠み（動詞・連用形・四段活用）<br>
              て（助詞）<br>
              十座（名詞）<br>
              の（格助詞）<br>
              百首（名詞）<br>
              と（助詞）<br>
              なづけ（動詞・連用形・下二段活用）<br>
              はべる（補助動詞・終止形・丁寧語）<br>
              事（名詞）<br>
              あり（動詞・連用形・ラ変）<br>
              けり（助動詞・過去・終止形）<br>
            </div>
          </section>
          <section>
            <p>
              おのおの挑みて心を尽くしたりけるに、いづれも劣らざりけり。
            </p>
            <div class="analysis">
              おのおの（代名詞）<br>
              挑み（動詞・連用形・四段活用）<br>
              て（助詞）<br>
              心（名詞）<br>
              を（格助詞）<br>
              尽くし（動詞・連用形・四段活用）<br>
              たり（助動詞・完了・連用形）<br>
              ける（助動詞・過去・連体形）<br>
              に（格助詞）<br>
              いづれ（代名詞）<br>
              も（係助詞）<br>
              劣ら（動詞・未然形・四段活用）<br>
              ざり（助動詞・打消・連用形）<br>
              けり（助動詞・過去・終止形）<br>
            </div>
          </section>
          <section>
            <p>
              また俊成卿の十首の歌詠ませはべりける時もともによく詠みたりければ、かの卿は「世の人の一番に申す由聞けど何事かはあらむと思ひて過ぎつるに、この十首の歌にこそ返抄もたびぬべく覚ゆれ」となむ言はれける。
            </p>
            <div class="analysis">
              また（接続詞）<br>
              俊成卿（名詞）<br>
              の（格助詞）<br>
              十首（名詞）<br>
              の（格助詞）<br>
              歌（名詞）<br>
              詠ませ（動詞・未然形・下二段活用）<br>
              はべり（補助動詞・連用形・丁寧語）<br>
              ける（助動詞・過去・連体形）<br>
              時（名詞）<br>
              も（係助詞）<br>
              ともに（副詞）<br>
              よく（形容詞・連用形）<br>
              詠み（動詞・連用形・四段活用）<br>
              たり（助動詞・完了・連用形）<br>
              けれ（助動詞・過去・已然形）<br>
              ば（接続助詞）<br>
              かの（連体詞）<br>
              卿（名詞）<br>
              は（係助詞）<br>
              世（名詞）<br>
              の（格助詞）<br>
              人（名詞）<br>
              の（格助詞）<br>
              一番（名詞）<br>
              に（格助詞）<br>
              申す（動詞・連体形・サ変）<br>
              由（名詞）<br>
              聞け（動詞・已然形・四段活用）<br>
              ど（接続助詞）<br>
              何事（名詞）<br>
              か（係助詞）<br>
              は（係助詞）<br>
              あら（動詞・未然形・ラ変）<br>
              む（助動詞・推量・終止形）<br>
              と（格助詞）<br>
              思ひ（動詞・連用形・四段活用）<br>
              て（接続助詞）<br>
              過ぎ（動詞・連用形・四段活用）<br>
              つる（助動詞・完了・連体形）<br>
              に（格助詞）<br>
              この（連体詞）<br>
              十首（名詞）<br>
              の（格助詞）<br>
              歌（名詞）<br>
              に（格助詞）<br>
              こそ（係助詞）<br>
              返抄（名詞）<br>
              も（係助詞）<br>
              たび（動詞・未然形・四段活用）<br>
              ぬ（助動詞・完了・終止形）<br>
              べく（助動詞・推量・連用形）<br>
              覚ゆれ（動詞・已然形・下二段活用）<br>
              と（格助詞）<br>
              なむ（係助詞）<br>
              言は（動詞・未然形・四段活用）<br>
              れ（助動詞・受身・連用形）<br>
              ける（助動詞・過去・終止形）<br>
            </div>
          </section>
          <section>
            <p>
              しかるを、九条殿石大臣と申しし時、人々に百首を召されしに、隆信作者に入りて、公事なる内に日数もなくて物騒がしかりければ、いとよろしき歌なかりけり。
            </p>
            <div class="analysis">
              しかる（連体詞）<br>
              を（格助詞）<br>
              九条殿（名詞）<br>
              石大臣（名詞）<br>
              と（格助詞）<br>
              申し（動詞・連用形・サ変）<br>
              し（助動詞・過去・連体形）<br>
              時（名詞）<br>
              人々（名詞）<br>
              に（格助詞）<br>
              百首（名詞）<br>
              を（格助詞）<br>
              召され（動詞・未然形・下二段活用・尊敬語）<br>
              し（助動詞・過去・連体形）<br>
              に（格助詞）<br>
              隆信（名詞）<br>
              作者（名詞）<br>
              に（格助詞）<br>
              入り（動詞・連用形・四段活用）<br>
              て（接続助詞）<br>
              公事（名詞）<br>
              なる（助動詞・断定・連体形）<br>
              内（名詞）<br>
              に（格助詞）<br>
              日数（名詞）<br>
              も（係助詞）<br>
              なく（形容詞・連用形）<br>
              て（接続助詞）<br>
              物騒がしかり（形容詞・連用形）<br>
              けれ（助動詞・過去・已然形）<br>
              ば（接続助詞）<br>
              いと（副詞）<br>
              よろしき（形容詞・連体形）<br>
              歌（名詞）<br>
              なかり（助動詞・打消・連用形）<br>
              けり（助動詞・過去・終止形）<br>
            </div>
          </section>
          <section>
            <p>
              そのころ定長は出家の後にて、身の暇もあれば、今少しのどかに案じて、無題の百首を磨き立てて取り出だしたりけるに、たとしへないく勝りたりければ、その時より、「寂蓮双なし」といふ事になりにき。
            </p>
            <div class="analysis">
              そのころ（名詞）<br>
              定長（名詞）<br>
              は（係助詞）<br>
              出家（名詞）<br>
              の（格助詞）<br>
              後（名詞）<br>
              にて（格助詞）<br>
              身（名詞）<br>
              の（格助詞）<br>
              暇（名詞）<br>
              も（係助詞）<br>
              あれ（動詞・已然形・ラ変）<br>
              ば（接続助詞）<br>
              今（名詞）<br>
              少し（副詞）<br>
              のどかに（副詞）<br>
              案じ（動詞・連用形・サ変）<br>
              て（接続助詞）<br>
              無題（名詞）<br>
              の（格助詞）<br>
              百首（名詞）<br>
              を（格助詞）<br>
              磨き立て（動詞・連用形・下二段活用）<br>
              て（接続助詞）<br>
              取り出だし（動詞・連用形・四段活用）<br>
              たり（助動詞・完了・連用形）<br>
              ける（助動詞・過去・連体形）<br>
              に（格助詞）<br>
              たとしへなく（形容詞・連用形）<br>
              勝り（動詞・連用形・四段活用）<br>
              たり（助動詞・完了・連用形）<br>
              けれ（助動詞・過去・已然形）<br>
              ば（接続助詞）<br>
              その時（名詞）<br>
              より（格助詞）<br>
              寂蓮（名詞）<br>
              双なし（名詞）<br>
              と（格助詞）<br>
              いふ（動詞・連体形・四段活用）<br>
              事（名詞）<br>
              に（格助詞）<br>
              なり（動詞・連用形・四段活用）<br>
              に（助動詞・完了・連用形）<br>
              き（助動詞・過去・終止形）<br>
            </div>
          </section>
          <section>
            <p>
              御所辺りには、「いかなるをこの者の、同じ列の詠み口とは番ひけるぞ」とまで仰せられけるとぞ。
            </p>
            <div class="analysis">
              御所（名詞）<br>
              辺り（名詞）<br>
              に（格助詞）<br>
              は（係助詞）<br>
              いかなる（連体詞）<br>
              をこの（名詞）<br>
              者（名詞）<br>
              の（格助詞）<br>
              同じ（形容詞・連用形）<br>
              列（名詞）<br>
              の（格助詞）<br>
              詠み口（名詞）<br>
              と（格助詞）<br>
              は（係助詞）<br>
              番ひ（動詞・連用形・四段活用）<br>
              ける（助動詞・過去・連体形）<br>
              ぞ（終助詞）<br>
              と（格助詞）<br>
              まで（副助詞）<br>
              仰せられ（動詞・未然形・下二段活用・尊敬語）<br>
              ける（助動詞・過去・連体形）<br>
              と（格助詞）<br>
              ぞ（終助詞）<br>
            </div>
          </section>
          <section>
            <p>
              後に隆信から事にして、「早く死なましかさばる程の歌仙にてやみなまし。よしなき命の永らへて、かく道の恥を現す事」とぞ言はれける。
            </p>
            <div class="analysis">
              後（名詞）<br>
              に（格助詞）<br>
              隆信（名詞）<br>
              から（格助詞）<br>
              事（名詞）<br>
              にして（助詞）<br>
              早く（副詞）<br>
              死な（動詞・未然形・四段活用）<br>
              ましか（助動詞・反実仮想・未然形）<br>
              さば（接続助詞）<br>
              る（助動詞・存続・連体形）<br>
              程（名詞）<br>
              の（格助詞）<br>
              歌仙（名詞）<br>
              にて（助詞）<br>
              やみ（動詞・連用形・四段活用）<br>
              なまし（助動詞・反実仮想・終止形）<br>
              よしなき（形容詞・連体形）<br>
              命（名詞）<br>
              の（格助詞）<br>
              永らへ（動詞・連用形・下二段活用）<br>
              て（接続助詞）<br>
              かく（副詞）<br>
              道（名詞）<br>
              の（格助詞）<br>
              恥（名詞）<br>
              を（格助詞）<br>
              現す（動詞・連体形・サ変）<br>
              事（名詞）<br>
              と（格助詞）<br>
              ぞ（終助詞）<br>
              言は（動詞・未然形・四段活用）<br>
              れ（助動詞・受身・連用形）<br>
              ける（助動詞・過去・終止形）<br>
            </div>
          </section>
        </article>
      </main>
    </div>
  </div>
  <div id="footer">
    <button id="changeButton">現代語訳する</button>
    <button id="resetButton" style="display: none;">もとに戻す</button>
    <button id="toggleAnalysisButton">品詞分解を消す</button>
  </div>
  <script>
    // ボタンとテキストの要素を取得
    const textElement = document.getElementById('text');
    const changeButton = document.getElementById('changeButton');
    const resetButton = document.getElementById('resetButton');
    const toggleAnalysisButton = document.getElementById('toggleAnalysisButton');
    const originalContent = textElement.innerHTML;

    // 現代語訳の内容
    const translatedContent = `
      <main>
        <article>
          <h2>現代語訳</h2>
          <section>
            <p>
              近ごろ、隆信と定長と並んで、若いころから人々に同じように評判されてきました。
            </p>
          </section>
          <section>
            <p>
              あの俊恵の家で、百首を十首ずつ十座に分けて詠み、十座の百首と名付ける催しがありました。
            </p>
          </section>
          <section>
            <p>
              それぞれが力を尽くして詠みましたが、どれも優劣がつけがたいほどでした。
            </p>
          </section>
          <section>
            <p>
              また、俊成卿が十首の歌を詠ませたときも、みな立派に詠んだので、俊成卿は「世間で一番だと言われているが、何のことかと思っていた。しかしこの十首の歌は返歌もしたくなるほど素晴らしい」と言われました。
            </p>
          </section>
          <section>
            <p>
              ところが、九条殿が石大臣と呼ばれていた時、百首の歌を人々に詠ませることになり、隆信は作者に選ばれましたが、公務の合間で日数もなく忙しかったため、あまり良い歌ができませんでした。
            </p>
          </section>
          <section>
            <p>
              そのころ定長は出家後で暇もあり、ゆったりと考えて無題の百首を磨き上げて出したところ、比べ物にならないほど優れていたため、その時から「寂蓮に並ぶ者なし」と言われるようになりました。
            </p>
          </section>
          <section>
            <p>
              御所では「どうしてこの者が同じレベルの歌詠みなどと並べられたのか」とまで仰せられたそうです。
            </p>
          </section>
          <section>
            <p>
              後に隆信は、「早く死んでいれば歌の名人のまま終われたのに、余計な命を長らえて、こんな恥をさらすことになった」と言われたのでした。
            </p>
          </section>
        </article>
      </main>
    `;

    // 品詞分解表示状態を管理するフラグ
    let analysisVisible = true;

    changeButton.addEventListener('click', () => {
      textElement.innerHTML = translatedContent;
      changeButton.style.display = 'none';
      resetButton.style.display = 'inline-block';
      toggleAnalysisButton.style.display = 'none';
    });

    resetButton.addEventListener('click', () => {
      textElement.innerHTML = originalContent;
      resetButton.style.display = 'none';
      changeButton.style.display = 'inline-block';
      toggleAnalysisButton.style.display = 'inline-block';
      reinitializeAnalysisToggle();
      applyAnalysisVisibility();
    });

    toggleAnalysisButton.addEventListener('click', () => {
      analysisVisible = !analysisVisible;
      applyAnalysisVisibility();
      toggleAnalysisButton.textContent = analysisVisible ? '品詞分解を消す' : '品詞分解を表示する';
    });

    const applyAnalysisVisibility = () => {
      const analysisElements = document.querySelectorAll('.analysis');
      analysisElements.forEach((el) => {
        el.style.display = analysisVisible ? 'block' : 'none';
      });
    };

    const reinitializeAnalysisToggle = () => {
      toggleAnalysisButton.textContent = analysisVisible ? '品詞分解を消す' : '品詞分解を表示する';
    };

    reinitializeAnalysisToggle();
  </script>
</body>
</html>
