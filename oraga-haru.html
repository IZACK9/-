<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>おらが春</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    #content {
      flex: 1;
      padding: 20px;
      text-align: center;
    }

    #text {
      font-size: 20px;
      margin-bottom: 20px;
    }

    #footer {
      position: sticky;
      bottom: 0;
      background-color: #f0f0f0;
      text-align: center;
      padding: 10px 0;
      border-top: 1px solid #ddd;
    }

    button {
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      margin: 5px;
    }

    button:hover {
      background-color: #0056b3;
    }

    .analysis {
      font-size: 0.8em; /* 小さい文字サイズ */
      color: gray; /* グレーの文字色 */
      margin-top: 10px; /* 上部に余白を追加 */
    }
  </style>
</head>
<body>
  <header>
    <h1>古文ヘルパー</h1>
    <nav>
      <a href="index.html">ホーム</a>
    </nav>
  </header>
  <div id="content">
    <div id="text">
      <main>
        <article>
          <h2>おらが春</h2>
          <p>
      ことし、みちのくの方修行せんと、乞食袋首にかけて、小風呂敷せなかに負ひたれば、影法師はさながら西行らしく見えて殊勝なるに、心は雪と墨染の袖と、思へば入梅晴れのそらはづかしきに、今更すがた替へるもむつかしく、卯花月十六日といふ日、久しく寝馴れたる庵をうしろになして、二、三里も歩みしころ、細杖をつくづく思ふに、おのれすでに六十の坂登りつめたれば、一期の月も西山にかたぶく命、又ながらへて帰らんことも白川の関をはるばる越ゆる身なれば、十府の菅菰の十に一つもおぼつかなしと案じつづくる程に、とある木陰に休らひて、痩脛さすりつつ詠むるに、柏原はあの山の外、雲のかかれる下あたりなどおしはかられて、何となく名残りをしさに、
    </p>
    <div class="analysis">
      ことし（名詞）、みちのく（名詞）の（助詞・格助詞）方（名詞）修行（名詞）せ（動詞・未然形・サ行変格活用）ん（助動詞・意志）と（助詞・格助詞）、
      乞食袋（名詞）首（名詞）に（助詞・格助詞）かけ（動詞・連用形・下一段活用）て（助詞・接続助詞）、
      小風呂敷（名詞）せなか（名詞）に（助詞・格助詞）負ひ（動詞・連用形・四段活用）たれ（助動詞・完了）ば（助詞・接続助詞）、
      影法師（名詞）は（助詞・係助詞）さながら（副詞）西行（固有名詞）らしく（助動詞・推定）見え（動詞・連用形・下一段活用）て（助詞・接続助詞）殊勝（名詞）なる（助動詞・断定）に（助詞・格助詞）、
      心（名詞）は（助詞・係助詞）雪（名詞）と（助詞・並立助詞）墨染（名詞）の（助詞・格助詞）袖（名詞）と（助詞・並立助詞）、
      思へ（動詞・已然形・四段活用）ば（助詞・接続助詞）入梅晴れ（名詞）の（助詞・格助詞）そら（名詞）はづかしき（形容詞・連体形）に（助詞・格助詞）、
      今更（副詞）すがた（名詞）替へ（動詞・連用形・下一段活用）る（助動詞・完了）も（助詞・係助詞）むつかしく（形容詞・連用形）、
      卯花月（名詞）十六日（名詞）と（助詞・格助詞）いふ（動詞・連体形・四段活用）日（名詞）、
      久しく（副詞）寝馴れ（動詞・連用形・下一段活用）たる（助動詞・存続）庵（名詞）を（助詞・格助詞）うしろ（名詞）に（助詞・格助詞）なして（動詞・連用形・サ行変格活用）、
      二、三里（名詞）も（助詞・係助詞）歩み（動詞・連用形・四段活用）し（動詞・連用形・サ行変格活用）ころ（名詞）、
      細杖（名詞）を（助詞・格助詞）つくづく（副詞）思ふ（動詞・終止形・四段活用）に（助詞・格助詞）、
      おのれ（名詞）すでに（副詞）六十（名詞）の（助詞・格助詞）坂（名詞）登りつめ（動詞・連用形・四段活用）たれ（助動詞・完了）ば（助詞・接続助詞）、
      一期（名詞）の（助詞・格助詞）月（名詞）も（助詞・係助詞）西山（名詞）に（助詞・格助詞）かたぶく（動詞・連体形・四段活用）命（名詞）、
      又（副詞）ながらへ（動詞・連用形・四段活用）て（助詞・接続助詞）帰ら（動詞・未然形・四段活用）ん（助動詞・意志）こと（名詞）も（助詞・係助詞）、
      白川（名詞）の（助詞・格助詞）関（名詞）を（助詞・格助詞）はるばる（副詞）越ゆる（動詞・連体形・上二段活用）身（名詞）なれ（助動詞・断定）ば（助詞・接続助詞）、
      十府（名詞）の（助詞・格助詞）菅菰（名詞）の（助詞・格助詞）十（名詞）に（助詞・格助詞）一つ（名詞）も（助詞・係助詞）おぼつかなし（形容詞・終止形）と（助詞・格助詞）案じ（動詞・連用形・サ行変格活用）つづくる（動詞・連体形・下二段活用）程（名詞）に（助詞・格助詞）、
      とある（連体詞）木陰（名詞）に（助詞・格助詞）休らひ（動詞・連用形・四段活用）て（助詞・接続助詞）、
      痩脛（名詞）さすり（動詞・連用形・四段活用）つつ（助詞・副助詞）詠むる（動詞・連体形・四段活用）に（助詞・格助詞）、
      柏原（名詞）は（助詞・係助詞）あの（指示詞）山（名詞）の（助詞・格助詞）外（名詞）、
      雲（名詞）の（助詞・格助詞）かかれ（動詞・已然形・下二段活用）る（助動詞・存続）下（名詞）あたり（名詞）など（助詞・副助詞）おしはから（動詞・未然形・四段活用）れ（助動詞・可能）て（助詞・接続助詞）、
      何（名詞）となく（副詞）名残り（名詞）を（助詞・格助詞）し（動詞・連用形・サ行変格活用）さ（副詞）に（助詞・副助詞）。
    </div>

    <p>
      思ふまじ見まじとすれど我が家かな　一茶
    </p>
    <div class="analysis">
      思ふ（動詞・終止形・四段活用）まじ（助動詞・意志打消）見（動詞・未然形・上一段活用）まじ（助動詞・意志打消）と（助詞・並立助詞）、
      すれ（動詞・已然形・サ行変格活用）ど（助詞・接続助詞）我が家（名詞）かな（助詞・終助詞）。
    </div>

    <p>
      ふるさとにも花もあらねど踏む足の跡へ心をひく霞かな　一茶
    </p>
    <div class="analysis">
      ふるさと（名詞）に（助詞・格助詞）も（助詞・係助詞）花（名詞）も（助詞・係助詞）あら（動詞・未然形・ラ行変格活用）ね（助動詞・打消）ど（助詞・接続助詞）、
      踏む（動詞・連体形・四段活用）足（名詞）の（助詞・格助詞）跡（名詞）へ（助詞・格助詞）心（名詞）を（助詞・格助詞）ひく（動詞・連体形・四段活用）霞（名詞）かな（助詞・終助詞）。
    </div>
        </article>
      </main>
    </div>
  </div>

  <div id="footer">
    <button id="changeButton">現代語訳する</button>
    <button id="resetButton" style="display: none;">もとに戻す</button>
    <button id="toggleAnalysisButton">品詞分解を消す</button>
  </div>

  <script>
    // ボタンとテキストの要素を取得
    const textElement = document.getElementById('text');
    const changeButton = document.getElementById('changeButton');
    const resetButton = document.getElementById('resetButton');
    const toggleAnalysisButton = document.getElementById('toggleAnalysisButton');

    // 元の内容を保存
    const originalContent = textElement.innerHTML;

    // 現代語訳の内容
    const translatedContent = `
      <main>
        <article>
          <h2>おらが春 現代語訳</h2>
          <p>
      今年、東北地方（みちのく）の方へ修行に行こうと思い、乞食袋を首にかけ、小さな風呂敷を背中に負った姿は、影法師（影絵）がまるで西行法師そっくりで立派に見えました。
      しかし、心の中では雪のように純白で、墨染めの僧衣が目立つことを気にしており、梅雨入りの晴れた空が恥ずかしく思えるほどでした。
    </p>
    <p>
      今さら服装を変えるのも面倒に感じ、卯月（四月）十六日という日に、長い間寝なれた庵を後にして、2〜3里ほど歩いたころのことです。
      細い杖を頼りに考えました。「自分はもう60歳の坂を登りきった。人生の月も西の山に傾く命だ。
      また生き延びて帰ってくることも難しいだろう。白川の関を越えて遠くまで行く自分の身では、十府（東北地方）の菅菰（すがごも。草で編んだ敷物）のうち、十分の一も訪れることは難しいだろう」と。
    </p>
    <p>
      そう考えながら木陰に休み、痩せた脚をさすりながら詠んだ歌に、柏原（かしわばら）はあの山の向こう、
      雲がかかっている下あたりだろうかなどと推測しながら、何となく別れが惜しい気持ちになりました。
    </p>
    <p>
      「思わないようにしよう、見ないようにしようと思っても、我が家（ふるさと）はやはり恋しいものだ」　一茶
    </p>
    <p>
      同じ心を詠んだもう一つの歌：<br>
      「ふるさとには花もないけれど、踏みしめた足跡へと心が引かれる霞であるなあ」　一茶
    </p>
        </article>
      </main>
    `;

    // 品詞分解表示状態を管理するフラグ
    let analysisVisible = true;

    // 「現代語訳する」ボタンがクリックされたときの処理
    changeButton.addEventListener('click', () => {
      textElement.innerHTML = translatedContent;
      changeButton.style.display = 'none'; // 現代語訳ボタンを非表示
      resetButton.style.display = 'inline-block'; // もとに戻すボタンを表示
      toggleAnalysisButton.style.display = 'none'; // 品詞分解ボタンを非表示
    });

    // 「もとに戻す」ボタンがクリックされたときの処理
    resetButton.addEventListener('click', () => {
      textElement.innerHTML = originalContent;
      resetButton.style.display = 'none'; // もとに戻すボタンを非表示
      changeButton.style.display = 'inline-block'; // 現代語訳ボタンを表示
      toggleAnalysisButton.style.display = 'inline-block'; // 品詞分解ボタンを再表示

      // 再度「品詞分解を消す」ボタンを機能させるためにイベントリスナーを再登録
      reinitializeAnalysisToggle();
      applyAnalysisVisibility(); // 品詞分解の表示状態を適用
    });

    // 「品詞分解を消す」ボタンがクリックされたときの処理
    toggleAnalysisButton.addEventListener('click', () => {
      analysisVisible = !analysisVisible; // 表示状態をトグル
      applyAnalysisVisibility(); // 表示状態を適用
      toggleAnalysisButton.textContent = analysisVisible ? '品詞分解を消す' : '品詞分解を表示する';
    });

    // 品詞分解の表示状態を適用
    const applyAnalysisVisibility = () => {
      const analysisElements = document.querySelectorAll('.analysis');
      analysisElements.forEach((el) => {
        el.style.display = analysisVisible ? 'block' : 'none';
      });
    };

    // 「品詞分解を消す」ボタンの機能を再登録
    const reinitializeAnalysisToggle = () => {
      const analysisElements = document.querySelectorAll('.analysis');
      toggleAnalysisButton.textContent = analysisVisible ? '品詞分解を消す' : '品詞分解を表示する';
    };

    // 初期化時に「品詞分解を消す」ボタンの機能を登録
    reinitializeAnalysisToggle();
  </script>
</body>
</html>
